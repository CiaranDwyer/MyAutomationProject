"""
PAGE OBJECT CONSTRUCTORS – QUICK REFERENCE GUIDE

DO I NEED A CONSTRUCTOR IN EVERY PAGE OBJECT?
- NO – most Page Objects do NOT need their own constructor.
- If a page only needs access to:
    - driver
    - wait
- Then simply inherit from BasePage.
- Python will automatically use BasePage.__init__().

WHY `class HomePage(BasePage):` WORKS WITHOUT __init__
- HomePage has no constructor.
- Python looks to the parent class (BasePage).
- BasePage.__init__(driver) is called automatically.
- This gives HomePage:
    - self.driver
    - self.wait
    - all shared BasePage methods.
- This is correct, clean, and recommended framework design.

WHAT THE BASEPAGE CONSTRUCTOR IS RESPONSIBLE FOR
- Storing the WebDriver instance.
- Creating and storing WebDriverWait.
- Providing shared functionality for all pages.
- Ensuring all Page Objects use the same browser session.

Example:
class BasePage:
    def __init__(self, driver):
        self.driver = driver
        self.wait = WebDriverWait(driver, 10)

WHEN YOU SHOULD ADD A CONSTRUCTOR TO A PAGE OBJECT
- Only add a constructor if the page needs extra setup or state beyond the driver.

Examples:
- User role (admin vs normal user).
- Feature flags.
- Environment-specific behavior.
- Page-specific configuration or data.

RULE OF THUMB
- Only needs driver? → NO constructor.
- Needs extra data? → Add constructor.
- Overrides __init__? → MUST call super().__init__(driver).

CORRECT WAY TO ADD A CONSTRUCTOR TO A PAGE OBJECT
class DashboardPage(BasePage):
    def __init__(self, driver, user_role):
        super().__init__(driver)   # REQUIRED
        self.user_role = user_role

WHY THIS MATTERS
- Keeps self.driver available.
- Keeps self.wait available.
- Prevents silent failures and flaky tests.

COMMON BEGINNER MISTAKE (AVOID THIS)
def __init__(self, driver):
    self.driver = driver

WHAT GOES WRONG
- self.wait is never created.
- BasePage methods may fail.
- Tests become unstable and hard to debug.

HOW NAVIGATION BETWEEN PAGES SHOULD WORK
- Page actions should return the next Page Object.
- This keeps tests readable, scalable, and maintainable.

Example:
def login(self):
    self.click(self.LOGIN_BUTTON)
    return HomePage(self.driver)

BEST PRACTICES FOR GROWING YOUR AUTOMATION FRAMEWORK
- Keep __init__ only in BasePage (for now).
- Add is_loaded() or is_this_page_loaded() to every Page Object.
- Put shared logic (clicks, waits, typing) in BasePage.
- Keep Page Objects focused on:
    - Locators
    - Page-specific actions
    - Page-specific validations

ONE DRIVER, MANY PAGES (CORRECT SETUP)
- Single WebDriver instance created by Pytest fixtures.
- Passed into each Page Object.
- Same browser session reused across pages.
- Professional, scalable Page Object Model design.

FINAL TAKEAWAY
- Inheritance gives you the BasePage constructor for free.
- Most Page Objects do NOT need a constructor.
- Only override __init__ when absolutely necessary.
- Always call super().__init__(driver) when you do.
"""
